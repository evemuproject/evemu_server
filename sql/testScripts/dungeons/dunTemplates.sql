/*  dungeon template system data
 *  sql by deslona
 *  updates by allan
 */

--  dungeon template structure

DROP TABLE IF EXISTS dunTemplates;
CREATE TABLE dunTemplates (
    dunTemplateID INT NOT NULL,
    dunTemplateName VARCHAR(85) NOT NULL,
    dunEntryID INT NOT NULL DEFAULT 0,
    dunTypeID INT NOT NULL DEFAULT 0,
    dunSpawnType INT NOT NULL DEFAULT 0,
    dunRoomID INT NOT NULL DEFAULT 0,
    dunRooms INT NOT NULL DEFAULT 0,
    dunRoomTypeID INT NOT NULL DEFAULT 0,
    dunRoomCategoryID INT NOT NULL DEFAULT 0,
KEY dunTemplateID (dunTemplateID)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

DROP TABLE IF EXISTS dunEntryData;
CREATE TABLE dunEntryData (
   dunEntryID INT NOT NULL,
   dunEntryName VARCHAR(85) NOT NULL,
   xpos INT NOT NULL DEFAULT 0,
   ypos INT NOT NULL DEFAULT 0,
   zpos INT NOT NULL DEFAULT 0,
KEY dunEntryID (dunEntryID)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

DROP TABLE IF EXISTS dunRoomInfo;
CREATE TABLE dunRoomInfo (
   dunRoomID INT NOT NULL,
   dunRoomName VARCHAR(85) NOT NULL,
   dunRoomType INT NOT NULL DEFAULT 0,
   dunRoomCategory INT NOT NULL DEFAULT 0,
   dunRoomSpawnID INT NOT NULL DEFAULT 0,
   dunRoomSpawnType INT NOT NULL DEFAULT 0,
KEY dunRoomID (dunRoomID)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

DROP TABLE IF EXISTS dunRoomData;
CREATE TABLE dunRoomData (
   dunRoomID INT NOT NULL DEFAULT 0,
   dunGroupID INT NOT NULL DEFAULT 0,
   xpos INT NOT NULL DEFAULT 0,
   ypos INT NOT NULL DEFAULT 0,
   zpos INT NOT NULL DEFAULT 0,
KEY dunRoomID (dunRoomID)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

DROP TABLE IF EXISTS dunGroupInfo;
CREATE TABLE dunGroupInfo (
   dunGroupID INT NOT NULL,
   dunGroupName VARCHAR(85) NOT NULL,
KEY dunGroupID (dunGroupID)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

DROP TABLE IF EXISTS dunGroupData;
CREATE TABLE dunGroupData (
   dunGroupID INT NOT NULL,
   itemTypeID INT NOT NULL,
   xpos INT NOT NULL DEFAULT 0,
   ypos INT NOT NULL DEFAULT 0,
   zpos INT NOT NULL DEFAULT 0,
KEY dunGroupID (dunGroupID)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

DROP TABLE IF EXISTS dunRoomSpawnInfo;
CREATE TABLE dunRoomSpawnInfo (
   dunRoomSpawnID INT NOT NULL,
   dunRoomSpawnName VARCHAR(85) NOT NULL,
   dunRoomSpawnType INT NOT NULL,
   xpos INT NOT NULL DEFAULT 0,
   ypos INT NOT NULL DEFAULT 0,
   zpos INT NOT NULL DEFAULT 0,
KEY dunRoomSpawnID (dunRoomSpawnID)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

DROP TABLE IF EXISTS dunRoomSpawnData;
CREATE TABLE dunRoomSpawnData (
   dunRoomSpawnID INT NOT NULL,
   dunRoomSpawnName VARCHAR(85) NOT NULL,
KEY dunRoomSpawnID (dunRoomSpawnID)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

DROP TABLE IF EXISTS dunSpawnType;
CREATE TABLE dunSpawnType (
   dunSpawnTypeID INT NOT NULL,
   dunSpawnName VARCHAR(85) NOT NULL,
KEY dunSpawnTypeID (dunSpawnTypeID)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

DROP TABLE IF EXISTS dunActive;
CREATE TABLE IF NOT EXISTS dunActive (
   systemID INT NOT NULL,
   dungeonID INT NOT NULL,
   dunTemplateID INT NOT NULL,
   dunExpiryTime BIGINT(20) NOT NULL DEFAULT 0,
   state INT NOT NULL DEFAULT 0,
   xpos FLOAT NOT NULL DEFAULT 0,
   ypos FLOAT NOT NULL DEFAULT 0,
   zpos FLOAT NOT NULL DEFAULT 0,
  KEY systemID (systemID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;


--  dungeon template data

INSERT INTO dunTemplates (dunTemplateID, dunTemplateName, dunRoomID)
VALUES
(1,"Small Omber Deposit",1),
(11,"test dungeon",11),
(12,"test data center",12),
(13,"test dungeon 2",13);

INSERT INTO dunRoomData
VALUES
(1,1,0,0,0),
(11,11,0,0,0),
(11,12,15000,200,15000),
(11,13,20000,1000,20000),
(11,16,0,0,0),
(11,17,0,0,0),
(13,11,100,0,100),
(13,12,15000,200,15000),
(13,13,20000,1000,20000),
(13,16,100,0,0),
(13,17,1000,0,0);

INSERT INTO dunGroupData
VALUES
(1,17868,9000,7000,10000),
(1,17868,8000,11000,12000),
(1,17868,10000,10000,13000),
(1,17868,12000,15000,18000),
(1,1227,4000,8000,8000),
(1,1227,10000,9000,11000),
(1,1227,11000,10000,9000),
(1,1227,7000,9000,14000),
(1,1227,10000,9000,12000),
(1,1227,15000,8000,7000),
(1,1227,11000,7000,13000),
(1,1227,10000,9000,15000),
(1,1227,13000,11000,11000),
(1,1227,9000,10000,15000),
(1,1227,15000,8000,16000),
(1,17867,9000,6000,6000),
(1,17867,4000,7000,9000),
(1,17867,11000,9000,8000),
(1,17867,8000,8000,13000),
(1,17867,12000,10000,9000),
(1,17867,14000,8000,14000),
(1,17867,16000,12000,15000),
(11,1194,10000,1200,5000),
(11,1194,5000,1200,10000),
(11,1194,0,-1200,10000),
(11,1194,10000,-1200,10000),
(12,2372,0,200,0),
(12,2372,1000,200,1000),
(12,2372,0,200,1000),
(12,2372,1000,200,0),
(13,16748,0,0,0),
(16,26573,2000,0,2000),
(16,26574,2500,0,4000),
(16,26574,4000,0,6000),
(17,1230,15000,200,15000),
(17,1230,18000,100,20000),
(17,1230,20000,150,18000);